"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.buildAccountFilter = exports.getAccountIdsFromList = void 0;
const getAccountIdsFromList = (accounts) => {
    const accountIds = [];
    if (!accounts || !Array.isArray(accounts)) {
        throw new Error('List must be a valid array of IDs or objects containing account details');
    }
    for (const account of accounts) {
        if (typeof account === 'string') {
            accountIds.push(account);
        }
        else if (account.id) {
            accountIds.push(account.id);
        }
    }
    return accountIds;
};
exports.getAccountIdsFromList = getAccountIdsFromList;
const buildAccountFilter = (accounts, columnName) => {
    const accountIds = (0, exports.getAccountIdsFromList)(accounts);
    if (!accountIds.length)
        return '';
    const formattedAccountIds = accountIds
        .map((accountId) => `'${accountId}'`)
        .join(', ');
    return `AND ${columnName} IN (${formattedAccountIds})`;
};
exports.buildAccountFilter = buildAccountFilter;
//# sourceMappingURL=filters.js.map