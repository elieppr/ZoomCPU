"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.pluginStorage = void 0;
const errors_1 = require("../util/errors");
const config_1 = require("../config");
const { PluginInitalizationError } = errors_1.ERRORS;
const { NOT_INITALIZED_PLUGIN } = config_1.STRINGS;
/**
 * Storage for maintaining plugins.
 */
const pluginStorage = () => {
    const storage = {};
    return {
        /**
         * Gets plugin by given `name`. If it's missing then throws error.
         */
        get: (name) => {
            const plugin = storage[name];
            if (!plugin) {
                throw new PluginInitalizationError(NOT_INITALIZED_PLUGIN(name));
            }
            return plugin;
        },
        /**
         * Saves given `plugin` with given `name`.
         */
        set: function (name, plugin) {
            storage[name] = plugin;
            return this;
        },
    };
};
exports.pluginStorage = pluginStorage;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGx1Z2luLXN0b3JhZ2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvdXRpbC9wbHVnaW4tc3RvcmFnZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSwyQ0FBc0M7QUFDdEMsc0NBQWtDO0FBS2xDLE1BQU0sRUFBQyx3QkFBd0IsRUFBQyxHQUFHLGVBQU0sQ0FBQztBQUMxQyxNQUFNLEVBQUMscUJBQXFCLEVBQUMsR0FBRyxnQkFBTyxDQUFDO0FBRXhDOztHQUVHO0FBQ0ksTUFBTSxhQUFhLEdBQUcsR0FBRyxFQUFFO0lBQ2hDLE1BQU0sT0FBTyxHQUFrQixFQUFFLENBQUM7SUFFbEMsT0FBTztRQUNMOztXQUVHO1FBQ0gsR0FBRyxFQUFFLENBQUMsSUFBWSxFQUFFLEVBQUU7WUFDcEIsTUFBTSxNQUFNLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBRTdCLElBQUksQ0FBQyxNQUFNLEVBQUU7Z0JBQ1gsTUFBTSxJQUFJLHdCQUF3QixDQUFDLHFCQUFxQixDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7YUFDakU7WUFFRCxPQUFPLE1BQU0sQ0FBQztRQUNoQixDQUFDO1FBQ0Q7O1dBRUc7UUFDSCxHQUFHLEVBQUUsVUFBVSxJQUFZLEVBQUUsTUFBdUI7WUFDbEQsT0FBTyxDQUFDLElBQUksQ0FBQyxHQUFHLE1BQU0sQ0FBQztZQUV2QixPQUFPLElBQUksQ0FBQztRQUNkLENBQUM7S0FDRixDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBekJXLFFBQUEsYUFBYSxpQkF5QnhCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtFUlJPUlN9IGZyb20gJy4uL3V0aWwvZXJyb3JzJztcbmltcG9ydCB7U1RSSU5HU30gZnJvbSAnLi4vY29uZmlnJztcblxuaW1wb3J0IHtQbHVnaW5JbnRlcmZhY2V9IGZyb20gJy4uL3R5cGVzL2ludGVyZmFjZSc7XG5pbXBvcnQge1BsdWdpblN0b3JhZ2V9IGZyb20gJy4uL3R5cGVzL3BsdWdpbi1zdG9yYWdlJztcblxuY29uc3Qge1BsdWdpbkluaXRhbGl6YXRpb25FcnJvcn0gPSBFUlJPUlM7XG5jb25zdCB7Tk9UX0lOSVRBTElaRURfUExVR0lOfSA9IFNUUklOR1M7XG5cbi8qKlxuICogU3RvcmFnZSBmb3IgbWFpbnRhaW5pbmcgcGx1Z2lucy5cbiAqL1xuZXhwb3J0IGNvbnN0IHBsdWdpblN0b3JhZ2UgPSAoKSA9PiB7XG4gIGNvbnN0IHN0b3JhZ2U6IFBsdWdpblN0b3JhZ2UgPSB7fTtcblxuICByZXR1cm4ge1xuICAgIC8qKlxuICAgICAqIEdldHMgcGx1Z2luIGJ5IGdpdmVuIGBuYW1lYC4gSWYgaXQncyBtaXNzaW5nIHRoZW4gdGhyb3dzIGVycm9yLlxuICAgICAqL1xuICAgIGdldDogKG5hbWU6IHN0cmluZykgPT4ge1xuICAgICAgY29uc3QgcGx1Z2luID0gc3RvcmFnZVtuYW1lXTtcblxuICAgICAgaWYgKCFwbHVnaW4pIHtcbiAgICAgICAgdGhyb3cgbmV3IFBsdWdpbkluaXRhbGl6YXRpb25FcnJvcihOT1RfSU5JVEFMSVpFRF9QTFVHSU4obmFtZSkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcGx1Z2luO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogU2F2ZXMgZ2l2ZW4gYHBsdWdpbmAgd2l0aCBnaXZlbiBgbmFtZWAuXG4gICAgICovXG4gICAgc2V0OiBmdW5jdGlvbiAobmFtZTogc3RyaW5nLCBwbHVnaW46IFBsdWdpbkludGVyZmFjZSkge1xuICAgICAgc3RvcmFnZVtuYW1lXSA9IHBsdWdpbjtcblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgfTtcbn07XG4iXX0=